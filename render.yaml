# Render Blueprint for ExperTone ML Service
# Deploy: + New â†’ Blueprint, connect repo, then Apply

services:
  - type: web
    name: expertone-ml
    runtime: docker
    plan: free

    dockerfilePath: ./ml-service/Dockerfile
    dockerContext: ./ml-service

    envVars:
      - key: DATABASE_URL
        sync: false  # Neon pooled connection
      - key: EMBEDDING_PROVIDER
        value: openrouter
      - key: OPENROUTER_API_KEY
        sync: false  # From openrouter.ai
      - key: XAI_API_KEY
        sync: false  # When EMBEDDING_PROVIDER=xai
      - key: OPENAI_API_KEY
        sync: false  # When EMBEDDING_PROVIDER=openai
