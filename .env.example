# Neon PostgreSQL Connection Strings
# Get these from your Neon dashboard: https://console.neon.tech

# Pooled connection - use for application runtime (serverless, connection pooling)
# Format: postgresql://USER:PASSWORD@HOST-POOLER/DBNAME?sslmode=require
DATABASE_URL="postgresql://USER:PASSWORD@ep-xxx-pooler.us-east-2.aws.neon.tech/neondb?sslmode=require"

# Direct connection - use for migrations (bypasses connection pooler)
# Format: postgresql://USER:PASSWORD@HOST/DBNAME?sslmode=require
DIRECT_URL="postgresql://USER:PASSWORD@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require"

# Embeddings & Chat: openrouter | openai | xai
EMBEDDING_PROVIDER="openrouter"
OPENROUTER_API_KEY="sk-or-v1-..."
# Optional: XAI (when EMBEDDING_PROVIDER=xai)
# XAI_API_KEY="xai-..."
# Optional: OpenAI (when EMBEDDING_PROVIDER=openai)
# OPENAI_API_KEY="sk-..."

# ML Service (for Next.js proxy to ranking microservice)
# ML_SERVICE_URL="http://localhost:8000"
# ML service uses DATABASE_URL for reads only; Next.js handles all writes.

# Expert Data Collector - Google Custom Search (for LinkedIn URL + public source discovery)
# Create at: https://programmablesearchengine.google.com/ + enable Custom Search API
# GOOGLE_API_KEY="your-google-api-key"
# GOOGLE_CSE_ID="your-search-engine-id"

# n8n (workflow automation - Settings > API in n8n to create key)
N8N_BASE_URL="http://localhost:5678"
# N8N_WEBHOOK_URL="http://localhost:5678/webhook/hunt"  # Full webhook URL (overrides N8N_BASE_URL + /webhook/hunt)
# N8N_API_KEY="n8n_api_..."  # Create at n8n Settings > API, paste here when Cursor asks

# MAS Coordinator: optional Hunter (POST { brief, taskId } -> { rawText?, raw?, source? }). If unset, stub data is used.
# COORDINATOR_HUNTER_URL="http://localhost:5678/webhook/mas-hunter"
# Chat model for Scholar / Valuer / Auditor (default gpt-4o-mini)
# CHAT_MODEL="gpt-4o-mini"

# PII encryption (ExpertContact email/phone - min 16 chars)
# PII_ENCRYPTION_KEY="your-32-char-or-longer-secret"
# Or: ENCRYPTION_KEY="..."

# Webhook security (n8n â†” platform HMAC verification)
# HMAC_SECRET="your-secret"   # Preferred: used for heartbeat, check-exists, interventions
# SHARED_SECRET="your-secret" # Fallback: same secret in n8n for X-Webhook-Signature

# Clerk (for User management)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_..."
CLERK_SECRET_KEY="sk_..."

# Cron (Expiry Engine - Vercel Cron sends Bearer token)
# CRON_SECRET="your-secret"  # Set in Vercel for cron auth
# DRY_RUN="true"             # Set to only log, not update

# ML Service (production)
# ML_SERVICE_URL="https://expertone.onrender.com"

# See ENV_MASTER.md for full platform matrix (n8n, Vercel, Render, Neon, Cron, GitHub, Prisma, Clerk)
